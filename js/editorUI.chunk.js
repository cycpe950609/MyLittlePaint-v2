/*! For license information please see editorUI.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmylittlepaint2=self.webpackChunkmylittlepaint2||[]).push([[452],{9480:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var n=r(40),o=r(2648),i=r(5251),a=r(8696),c=r(8368),u=r(6039),s=r(7248);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function d(t,e,r){return e&&h(t.prototype,e),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:String(e)}console.log=(console.log,function(){}),console.error=(console.error,function(){}),console.info=(console.info,function(){});var v=function(){function t(){f(this,t),this.selectorBtn=new Map,this.func_mode="noop",this.funcNoop=new o.U(0),this.func=this.funcNoop}return d(t,[{key:"currentMode",value:function(){return this.func_mode}},{key:"enable",value:function(t){a.A$.dispatch((0,a.sv)(t))}},{key:"disable",value:function(t){a.A$.dispatch((0,a.MR)(t))}},{key:"toggle",value:function(t){a.A$.dispatch((0,a.uo)(t))}},{key:"add",value:function(t,e,o){if(t in a.A$.getState().mode.data)throw new Error("Mode "+t+" exist");if(!(t in a.A$.getState().mode.data)){var i="#/".concat(t);a.A$.dispatch((0,a.W_)({def:e,enable:void 0!==o?o:e.Enable,modeName:t,btn:document.createElement("label")}));var c={def:e,enable:void 0!==o?o:e.Enable,modeName:t};""===a.A$.getState().mode.root&&a.A$.dispatch((0,a.AN)(i)),n.WK({name:"mode_".concat(t),app:function(){return r.e(832).then(r.bind(r,8768))},activeWhen:function(e){return console.log("[EUI] Url hash",e.hash,i,i in a.A$.getState().mode.data),e.hash==="#/".concat(t)&&i in a.A$.getState().mode.data&&!0===a.A$.getState().mode.data[i].enable},customProps:c})}console.log("[EUI] Add mode "+t)}},{key:"remove",value:function(t){a.A$.dispatch((0,a.Iv)(t))}},{key:"changeFunction",value:function(t){void 0!==this.func.EndFunction&&this.func.EndFunction(window.editorUI.CenterCanvas);var e=t.StartFunction(window.editorUI.CenterCanvas);window.editorUI.CenterCanvas.render(),!0===e&&(this.func=t)}},{key:"changeTo",value:function(t){if(console.log("[MOD] Before change mode to "+t),this.func_mode!==t){var e="#/".concat(t);e in a.A$.getState().mode.data&&!0!==a.A$.getState().mode.data[e].enable||(console.log("[MOD] Change mode to ".concat(t," 2")),n.iG("#/".concat(t)),console.log("[MOD] Change mode to "+t))}}}]),t}(),y=function(){function t(){f(this,t),this.Left=new i.ToolbarPart("menubar_left_"),this.Right=new i.ToolbarPart("menubar_right_")}return d(t,[{key:"removeButton",value:function(t){this.Left.removeButton(t)||this.Right.removeButton(t)}},{key:"clear",value:function(){this.Left.clear(),this.Right.clear()}},{key:"size",value:function(){return this.Right.size()+this.Left.size()}},{key:"hasChildren",value:function(){var t=this.Right.hasChildren(),e=this.Left.hasChildren();return t||e}}]),t}();const m=function(){function t(){f(this,t),this.noop_cvs=new u.uw,this.cvs=this.noop_cvs,this.container=document.createElement("div"),this.container.innerHTML='<div> <div id="canvas_group" class="canvas_group"> </div> <div class="toolbar-vertical-cnt toolbar-vertical-cnt-left"> <div id="editorui-toolbar"></div> </div> <div class="toolbar-vertical-cnt toolbar-vertical-cnt-right"> <div id="editorui-sidebar"></div> </div> <div class="sidebar" id="editorui-sidebar-windows"> </div> <div class="status-bar-cnt"> <div id="editorui-statusbar-left"></div> <div id="editorui-statusbar-middle"></div> <div id="editorui-statusbar-right"></div> </div> <div class="menu"> <div class="menu-left-part"> <div id="editorui-menubar-left"></div> </div> <div id="editorui-menubar-middle" class="menu-middle-part"></div> <div class="menu-right-part"> <div id="editorui-menubar-right"></div> </div> </div> </div>',this.Toolbar=new i.default("toolbar","",(function(t,e,r){return r})),n.WK({name:"toolbar_left",app:function(){return Promise.resolve().then(r.bind(r,5251))},activeWhen:"/",customProps:{type:"toolbar"}}),this.Sidebar=new i.default("sidebar","",(function(t,e,r){return console.log("[EUI] Create sidebar funcInterface"),new c.default(t,e,r)})),n.WK({name:"toolbar_right",app:function(){return Promise.resolve().then(r.bind(r,5251))},activeWhen:"/",customProps:{type:"sidebar"}}),n.WK({name:"sidebar_window",app:function(){return Promise.resolve().then(r.bind(r,8368))},activeWhen:"/"}),this.Statusbar=new s.default,n.WK({name:"statusbar_left",app:function(){return Promise.resolve().then(r.bind(r,7248))},activeWhen:"/",customProps:{side:"left"}}),n.WK({name:"statusbar_right",app:function(){return Promise.resolve().then(r.bind(r,7248))},activeWhen:"/",customProps:{side:"right"}}),this.Menubar=new y,n.WK({name:"menubar_left",app:function(){return r.e(632).then(r.bind(r,5260))},activeWhen:"/",customProps:{side:"left"}}),n.WK({name:"menubar_right",app:function(){return r.e(632).then(r.bind(r,5260))},activeWhen:"/",customProps:{side:"right"}}),this.Mode=new v,n.WK({name:"mode_selector",app:function(){return r.e(16).then(r.bind(r,9600))},activeWhen:"/"}),n.WK({name:"error_handler_page",app:function(){return r.e(24).then(r.bind(r,4712))},activeWhen:function(t){var e=!(t.hash in a.A$.getState().mode.data),r=t.hash in a.A$.getState().mode.data&&!1===a.A$.getState().mode.data[t.hash].enable;return e||r}})}return d(t,[{key:"CenterCanvas",get:function(){return this.cvs},set:function(t){this.cvs=void 0!==t?t:this.noop_cvs}},{key:"Mount",value:function(t){var e=document.createElement("div");if("string"==typeof t){var r=document.getElementById(t);if(null===r)throw new Error("INTERNAL_ERROR: Cannt found container");e=r}else e=t;e.appendChild(this.container),n.kL(),console.log("[EUI] EditorUI Mounted")}}]),t}()},2648:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:String(e)}var a;r.d(e,{U:()=>c}),function(t){t.String="string",t.Integer="integer",t.Float="float",t.Color="color",t.StringList="stringlist",t.IntegerList="integerlist",t.FloatList="floatlist",t.ColorList="colorlist"}(a||(a={}));var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Name="no_op",this.ImgName="text",this.Tip="",this.MouseDown=function(t){},this.Tip="This is a example of using FunctionInterface "+e.toString()}var e,r;return e=t,(r=[{key:"StartFunction",value:function(t){return!1}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},8368:(t,e,r)=>{r.r(e),r.d(e,{bootstrap:()=>S,default:()=>b,mount:()=>A,unmount:()=>O});var n=r(8696),o=r(1088),i=r(4256),a=r(3036),c=r(9008),u=r(3096),s=r(44),l=r(2456),f=r(5280);function h(){h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:O(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function g(){}function w(){}function _(){}var S={};s(S,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(I([])));x&&x!==r&&n.call(x,a)&&(S=x);var L=_.prototype=g.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==d(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?m:v,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(d(e)+" is not iterable")}return w.prototype=_,o(L,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=s(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},k(A.prototype),s(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:String(e)}var y=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function c(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,c)}u((n=n.apply(t,e||[])).next())}))},m=(0,o._)([i.Y,a.q,c.Y,u.C]);const b=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listName=e,this.interfaceUUID=r,this.Name=n.Name,this.ImgName=n.ImgName,this.Tip=n.Tip}var e,r;return e=t,(r=[{key:"showSidebar",value:function(){var t=n.A$.getState()[this.listName].data[this.interfaceUUID];!0!==t.Visible&&(t.Visible=!0,n.A$.dispatch(n.Qd[this.listName].update({id:this.interfaceUUID,new_func:t})))}},{key:"hiddenSidebar",value:function(){var t=n.A$.getState()[this.listName].data[this.interfaceUUID];!1!==t.Visible&&(t.Visible=!1,n.A$.dispatch(n.Qd[this.listName].update({id:this.interfaceUUID,new_func:t})))}},{key:"toggleSidebar",value:function(){1==!n.A$.getState()[this.listName].data[this.interfaceUUID].Visible?this.showSidebar():this.hiddenSidebar()}},{key:"StartFunction",value:function(){return this.toggleSidebar(),!1}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var g,w,_,S=function(){return y(void 0,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("[EUI] modeSelector bootstrapping");case 1:case"end":return t.stop()}}),t)})))},E={},x=function(t,e){return y(void 0,void 0,void 0,h().mark((function r(){var o,i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t in E)||window.editorUI.CenterCanvas.isUpdate||n.A$.getState().sidebar_window.action==="sidebar_window.".concat(e,".update")){r.next=2;break}return r.abrupt("return",E[t]);case 2:if(o=void 0,t in n.A$.getState().sidebar_top_.data?o=n.A$.getState().sidebar_top_.data[t]:t in n.A$.getState().sidebar_top_perm.data?o=n.A$.getState().sidebar_top_perm.data[t]:t in n.A$.getState().sidebar_bottom_.data?o=n.A$.getState().sidebar_bottom_.data[t]:t in n.A$.getState().sidebar_bottom_perm.data&&(o=n.A$.getState().sidebar_bottom_perm.data[t]),void 0!==o){r.next=6;break}throw new Error("INTERNAL_ERROR: SidebarInterface is not found");case 6:return r.t0=s.h,r.t1={style:{pointerEvents:"all"}},r.t2=(0,f.ug)("pd_title",(0,f.eQ)("pb_Property_title",o.Title())),r.t3=f.ug,r.next=12,Promise.resolve(o.Body());case 12:return r.t4=r.sent,r.t5=(0,r.t3)("pb_Property_bdy",r.t4),r.t6=[r.t2,r.t5],i=(0,r.t0)("div#divcnt.property-bar",r.t1,r.t6),E[e]=i,r.abrupt("return",i);case 18:case"end":return r.stop()}}),r)})))},L=function(t){return y(void 0,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s.h,e.next=3,Promise.all(Object.keys(t).map((function(e){return y(void 0,void 0,void 0,h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!1!==t[e].Visible){r.next=3;break}return e in E&&delete E[e],r.abrupt("return",(0,s.h)("div"));case 3:return r.next=5,x(e,t[e].Name);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))})));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)("div#cnt.w-fit.h-fit",e.t1));case 5:case"end":return e.stop()}}),e)})))},k=function(){return y(void 0,void 0,void 0,h().mark((function t(){var e,r,o,i,a,c,u,f;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=w){t.next=6;break}if(null!==(e=document.getElementById("editorui-sidebar-windows"))){t.next=4;break}throw new Error("INTERNAL_ERROR: Container of Sidebar-Window not found");case 4:w=e,_=(0,l.m)(w);case 6:return r=n.A$.getState().sidebar_top_.data,o=n.A$.getState().sidebar_top_perm.data,i=n.A$.getState().sidebar_bottom_.data,a=n.A$.getState().sidebar_bottom_perm.data,u=(c=function(t){var e=0;return Object.keys(t).forEach((function(r){e+=t[r].Visible?1:0})),e})(r)+c(i)+c(o)+c(a),t.t0=s.h,t.t1={style:{pointerEvents:u>0?"all":"none"}},t.next=16,L(r);case 16:return t.t2=t.sent,t.next=19,L(o);case 19:return t.t3=t.sent,t.next=22,L(i);case 22:return t.t4=t.sent,t.next=25,L(a);case 25:t.t5=t.sent,t.t6=[t.t2,t.t3,t.t4,t.t5],f=(0,t.t0)("div#editorui-sidebar-windows.sidebar",t.t1,t.t6),m(_,f),_=f,window.editorUI.CenterCanvas.isUpdate=!1;case 31:case"end":return t.stop()}}),t)})))},A=function(){return y(void 0,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g=n.A$.subscribe((function(){console.log("[EUI] Sidebar-Window updated"),k()})),k(),console.log("[EUI] Sidebar-Window mounted");case 3:case"end":return t.stop()}}),t)})))},O=function(){return y(void 0,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g();case 1:case"end":return t.stop()}}),t)})))}},7248:(t,e,r)=>{r.r(e),r.d(e,{TipComponent:()=>h,bootstrap:()=>y,default:()=>d,mount:()=>b,unmount:()=>g});var n=r(8696),o=r(5024);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:O(t,r,c)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function g(){}function w(){}function _(){}var S={};f(S,u,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(I([])));x&&x!==r&&n.call(x,u)&&(S=x);var L=_.prototype=g.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,a,c,u){var s=d(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=d(e,r,n);if("normal"===s.type){if(o=n.done?m:v,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=_,o(L,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=f(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,f(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},k(A.prototype),f(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(L),f(L,l,"Generator"),f(L,u,(function(){return this})),f(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function s(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}var f=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function c(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,c)}u((n=n.apply(t,e||[])).next())}))},h=function(){function t(e,r,o){c(this,t),this.idx=o,this.side=r,console.log("[EUI] ".concat(o," tip component created")),n.A$.dispatch(n.Qd["statusbar_".concat(this.side,"_")].update({id:this.idx,new_func:{tip:e,showed:!0}}))}return s(t,[{key:"updateTip",value:function(t){n.A$.dispatch(n.Qd["statusbar_".concat(this.side,"_")].update({id:this.idx,new_func:{tip:t,showed:!0}}))}},{key:"hide",value:function(){n.A$.dispatch(n.Qd["statusbar_".concat(this.side,"_")].update({id:this.idx,new_func:{tip:n.A$.getState()["statusbar_".concat(this.side,"_")][this.idx].tip,showed:!1}}))}},{key:"show",value:function(){n.A$.dispatch(n.Qd["statusbar_".concat(this.side,"_")].update({id:this.idx,new_func:{tip:n.A$.getState()["statusbar_".concat(this.side,"_")][this.idx].tip,showed:!0}}))}}]),t}();const d=function(){function t(){c(this,t)}return s(t,[{key:"__createTipComponent__",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var e=Object.keys(n.A$.getState().statusbar_right_.data).length;return new h(t,"right",e+1)}var r=Object.keys(n.A$.getState().statusbar_left_.data).length;return new h(t,"left",r+1)}},{key:"addTip",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.__createTipComponent__(t,e)}},{key:"clear",value:function(){n.A$.dispatch(n.Qd.statusbar_left_.clear(void 0)),n.A$.dispatch(n.Qd.statusbar_right_.clear(void 0))}}]),t}();var p={},v={},y=function(t){return f(void 0,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[EUI] modeSelector bootstrapping"),v["statusbar_".concat(t.side,"_")]=!1;case 2:case"end":return e.stop()}}),e)})))},m=function(t){var e,r="editorui-statusbar-".concat(t),i=document.getElementById(r);if(null===i)throw new Error("INTERNAL_ERROR: Cannot find container of editorui-menubar-middle");i.innerHTML="";var a,c,u=(0,o.Ss)(r,(a="statusbar_".concat(t,"_"),c=n.A$.getState()["statusbar_".concat(t,"_")].data,Object.keys(c).map((function(t){return v[a]=!0,c[t].showed?(e=c[t].tip,(0,o.Ss)("status-bar",(0,o.S9)("status_help_tip",e))):document.createElement("span");var e}))));u.id=r,null===(e=i.parentNode)||void 0===e||e.replaceChild(u,i)},b=function(t){return f(void 0,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p[t.side]=n.A$.subscribe((function(){!1===v["statusbar_".concat(t.side,"_")]&&""!==n.A$.getState()["statusbar_".concat(t.side,"_")].action&&m(t.side),["statusbar_".concat(t.side,"_")].forEach((function(t){""!==n.A$.getState()[t].action&&!0===v[t]&&(v[t]=!1,n.A$.dispatch(n.Qd[t].rendered(null)))}))})),m(t.side),console.log("[EUI] Statusbar ".concat(t.side," mounted"));case 3:case"end":return e.stop()}}),e)})))},g=function(t){return f(void 0,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p[t.side](),delete p[t.side];case 2:case"end":return e.stop()}}),e)})))}},5251:(t,e,r)=>{r.r(e),r.d(e,{ToolbarPart:()=>p,bootstrap:()=>g,default:()=>v,mount:()=>S,unmount:()=>E});var n=r(3331),o=r(8696),i=r(5024),a=r(3580);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:O(t,r,c)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function g(){}function w(){}function _(){}var S={};f(S,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(I([])));x&&x!==r&&n.call(x,a)&&(S=x);var L=_.prototype=g.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,u){var s=d(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==c(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=d(e,r,n);if("normal"===s.type){if(o=n.done?m:v,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=_,o(L,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=f(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,f(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},k(A.prototype),f(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(L),f(L,l,"Generator"),f(L,a,(function(){return this})),f(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function f(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:String(e)}var d=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function c(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,c)}u((n=n.apply(t,e||[])).next())}))},p=function(){function t(e){s(this,t),this.name=e}return f(t,[{key:"clear",value:function(){console.log("[EUI] Toolbar ".concat(this.name," clear")),o.A$.dispatch(o.Qd[this.name].clear(void 0))}},{key:"addButtonList",value:function(t){var e=this;return void 0===t||0===t.length?[]:t.map((function(t){return e.addButton(t)}))}},{key:"addButton",value:function(t){var e=(0,n.c)();return o.A$.dispatch(o.Qd[this.name].add({id:e,func:t})),e}},{key:"removeButton",value:function(t){return t in o.A$.getState()[this.name]&&(o.A$.dispatch(o.Qd[this.name].remove(t)),!0)}},{key:"size",value:function(){return Object.keys(o.A$.getState()[this.name]).length}},{key:"hasChildren",value:function(){return Object.keys(o.A$.getState()[this.name]).length>0}}]),t}();const v=function(){function t(e,r,n){s(this,t),m[e]=n,this.Top=new p("".concat(e,"_top_").concat(r)),this.Bottom=new p("".concat(e,"_bottom_").concat(r))}return f(t,[{key:"removeButton",value:function(t){this.Top.removeButton(t)||this.Bottom.removeButton(t)}},{key:"clear",value:function(){this.Top.clear(),this.Bottom.clear()}},{key:"size",value:function(){return this.Bottom.size()+this.Top.size()}},{key:"hasChildren",value:function(){var t=this.Bottom.hasChildren(),e=this.Top.hasChildren();return t||e}}]),t}();var y={},m={},b={},g=function(t){return d(void 0,void 0,void 0,u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[EUI] Toolbar bootstrapping"),r=t.type.replace("-","_"),b["".concat(r,"_top_")]=!1,b["".concat(r,"_top_perm")]=!1,b["".concat(r,"_bottom_")]=!1,b["".concat(r,"_bottom_perm")]=!1;case 6:case"end":return e.stop()}}),e)})))},w=function(t,e,r,n){return console.log("[EUI] ToolbarPart render",r,Object.keys(n).length),(0,i.Ss)(e,Object.keys(n).map((function(e){return b[r]=!0,(0,a.c)(m[t](r,e,n[e]))})))},_=function(t){var e,r,n="editorui-".concat(t),a=document.getElementById(n);if(null===a)throw new Error("INTERNAL_ERROR: Container of ".concat(t," not found"));var c=t.replace("-","_"),u=o.A$.getState()["".concat(c,"_top_")].data,s=o.A$.getState()["".concat(c,"_top_perm")].data,l=o.A$.getState()["".concat(c,"_bottom_")].data,f=o.A$.getState()["".concat(c,"_bottom_perm")].data;if(a.innerHTML="",Object.keys(u).length+Object.keys(s).length+Object.keys(l).length+Object.keys(f).length===0){var h=document.createElement("div");return h.id=n,void(null===(e=a.parentNode)||void 0===e||e.replaceChild(h,a))}var d=(0,i.Ss)("toolbar-vertical",[w(t,"toolbar-perm","".concat(c,"_top_perm"),s),w(t,"toolbar-top","".concat(c,"_top_"),u),w(t,"toolbar-bottom","".concat(c,"_bottom_"),l),w(t,"toolbar-perm","".concat(c,"_bottom_perm"),f)]);d.id=n,null===(r=a.parentNode)||void 0===r||r.replaceChild(d,a)},S=function(t){return d(void 0,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y[t.type]=o.A$.subscribe((function(){var e=t.type.replace("-","_");(!1===b["".concat(e,"_top_")]&&""!==o.A$.getState()["".concat(e,"_top_")].action||!1===b["".concat(e,"_top_perm")]&&""!==o.A$.getState()["".concat(e,"_top_perm")].action||!1===b["".concat(e,"_bottom_")]&&""!==o.A$.getState()["".concat(e,"_bottom_")].action||!1===b["".concat(e,"_bottom_perm")]&&""!==o.A$.getState()["".concat(e,"_bottom_perm")].action)&&_(t.type),["".concat(e,"_top_"),"".concat(e,"_top_perm"),"".concat(e,"_bottom_"),"".concat(e,"_bottom_perm")].forEach((function(t){""!==o.A$.getState()[t].action&&!0===b[t]&&(b[t]=!1,o.A$.dispatch(o.Qd[t].rendered(null)))}))})),_(t.type),console.log("[EUI] Toolbar ".concat(t.type," mounted"));case 3:case"end":return e.stop()}}),e)})))},E=function(t){return d(void 0,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y[t.type]();case 1:case"end":return e.stop()}}),e)})))}},3580:(t,e,r)=>{r.d(e,{c:()=>o});var n=r(5024);const o=function(t){var e=(0,n.S9)("tooltip-text",""),r=(0,n.Ss)("toolbar-item",[e]);return void 0!==t.Tip&&r.addEventListener("mouseover",(function(){void 0!==t.Tip&&(e.innerText="string"==typeof t.Tip?t.Tip:t.Tip())})),r.addEventListener("click",(function(){return window.editorUI.Mode.changeFunction(t)})),r.style.backgroundImage="url(img/"+(void 0!==t.ImgName?t.ImgName:"color_selector")+".png)",r}}}]);